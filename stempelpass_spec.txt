üìò PROJEKTSPEZIFIKATION

Digitale Stempelp√§sse ‚Äì Vorchdorf App

Auftraggeber: Marktgemeinde Vorchdorf
Ziel: Einf√ºhrung eines modularen, anonymen Stempelpass-Systems zur St√§rkung der lokalen Wirtschaft
Kostenmodell: kostenlos f√ºr Werbering-Mitglieder (Gemeindeaktion)

1Ô∏è‚É£ ZIELSETZUNG

Es soll ein digitales Stempelpass-System in die bestehende Vorchdorf-App integriert werden mit folgenden Eigenschaften:
	‚Ä¢	keine Benutzerkonten
	‚Ä¢	keine Registrierung
	‚Ä¢	keine personenbezogenen Daten
	‚Ä¢	anonyme, ger√§tebasierte Nutzung
	‚Ä¢	mehrere Stempelp√§sse parallel
	‚Ä¢	Firmen k√∂nnen eigene Stempelp√§sse anlegen
	‚Ä¢	Gemeinde kann ortsweite & Event-P√§sse anlegen
	‚Ä¢	Nutzung √ºber QR-Code

Das System muss robust, erweiterbar und DSGVO-konform sein.

2Ô∏è‚É£ GRUNDPRINZIP (SEHR WICHTIG)

‚ùå Keine User-Tabelle
‚ùå Kein Login
‚ùå Keine E-Mail / Telefonnummer

‚úÖ Identifikation ausschlie√ülich √ºber anonyme Ger√§te-ID

3Ô∏è‚É£ ROLLEN & BERECHTIGUNGEN

Rollen:
	‚Ä¢	ADMIN (Gemeinde)
	‚Ä¢	COMPANY (Betrieb)
	‚Ä¢	USER (B√ºrger ‚Äì anonym)

Rechte:
Aktion
ADMIN
COMPANY
USER
Orts-Pass anlegen
‚úÖ
‚ùå
‚ùå
Firmen-Pass anlegen
‚ùå
‚úÖ
‚ùå
Event-Pass anlegen
‚úÖ
‚ùå
‚ùå
Stempel sammeln
‚ùå
‚ùå
‚úÖ
Belohnung einl√∂sen
‚ùå
‚ùå
‚úÖ
Statistiken sehen
‚úÖ
‚úÖ (eigene)
‚ùå


4Ô∏è‚É£ PASS-TYPEN

A) ORTS_PASS
	‚Ä¢	mehrere Firmen
	‚Ä¢	wird ausschlie√ülich von ADMIN angelegt

B) FIRMEN_PASS
	‚Ä¢	exakt eine Firma
	‚Ä¢	wird vom Betrieb selbst angelegt
	‚Ä¢	voll gebrandet (Firmenname)

C) EVENT_PASS
	‚Ä¢	zeitlich begrenzt
	‚Ä¢	mehrere Firmen
	‚Ä¢	ADMIN-angelegt

5Ô∏è‚É£ DATENMODELL (PFLICHT)

Device
device_id UUID PRIMARY KEY
created_at TIMESTAMP

Pass
pass_id UUID PRIMARY KEY
name TEXT
description TEXT
type ENUM('ORTS_PASS','FIRMEN_PASS','EVENT_PASS')
target_stamps INT
valid_from DATE
valid_to DATE
created_by ENUM('ADMIN','COMPANY')
status ENUM('ACTIVE','INACTIVE')

Company

company_id UUID PRIMARY KEY
name TEXT
werbering_member BOOLEAN

PassCompany
pass_id UUID
company_id UUID
PRIMARY KEY (pass_id, company_id)

Stamp

stamp_id UUID PRIMARY KEY
pass_id UUID
company_id UUID
device_id UUID
timestamp TIMESTAMP

RewardRedemption
redemption_id UUID PRIMARY KEY
pass_id UUID
device_id UUID
timestamp TIMESTAMP

6Ô∏è‚É£ GER√ÑTE-IDENTIFIKATION (APP-SEITIG)

Beim ersten App-Start:
	‚Ä¢	generiere device_id (UUID v4)
	‚Ä¢	speichere lokal (Secure Storage / Keychain)
	‚Ä¢	sende bei jeder API-Anfrage mit

‚ùóÔ∏èBei App-Neuinstallation ‚Üí neue device_id (akzeptiert)

7Ô∏è‚É£ QR-CODE-SYSTEM

QR-Code enth√§lt:
{
  "pass_id": "UUID",
  "company_id": "UUID",
  "token": "STRING"
}

Token-Regeln:
	‚Ä¢	serverseitig generiert
	‚Ä¢	zeitlich begrenzt (z. B. 24 Stunden)
	‚Ä¢	nach Ablauf ung√ºltig
	‚Ä¢	verhindert Kopieren / Weitergeben

8Ô∏è‚É£ STEMPLEN (KERNFUNKTION)

API Endpoint
POST /stamp

Payload

{
  "device_id": "UUID",
  "pass_id": "UUID",
  "company_id": "UUID",
  "token": "STRING"
}

Server-Pr√ºfungen (ALLE PFLICHT):
	‚Ä¢	Token g√ºltig?
	‚Ä¢	Pass aktiv?
	‚Ä¢	Ger√§t hat heute noch keinen Stempel f√ºr diese Firma erhalten?
	‚Ä¢	Firma geh√∂rt zum Pass?

Ergebnis:
	‚Ä¢	Stempel speichern
	‚Ä¢	aktuellen Fortschritt zur√ºckgeben

9Ô∏è‚É£ REGELN (SERVERSEITIG)
	‚Ä¢	max. 1 Stempel / Firma / Ger√§t / Tag
	‚Ä¢	Firmen-Pass darf nur 1 Firma enthalten
	‚Ä¢	Stempel au√üerhalb der G√ºltigkeit ‚Üí ablehnen

Optional (konfigurierbar):
	‚Ä¢	Standortpr√ºfung (Radius 50‚Äì100 m)

üîü BELOHNUNG EINL√ñSEN

Bedingung:
	‚Ä¢	Anzahl Stempel ‚â• target_stamps

API Endpoint
POST /redeem

Payload
{
  "device_id": "UUID",
  "pass_id": "UUID"
}

Server:
	‚Ä¢	pr√ºft Vollst√§ndigkeit
	‚Ä¢	speichert Redemption
	‚Ä¢	setzt Stempel f√ºr diesen Pass zur√ºck

1Ô∏è‚É£1Ô∏è‚É£ OFFLINE-F√ÑHIGKEIT
	‚Ä¢	App darf Stempel lokal puffern
	‚Ä¢	Sync bei Internetverbindung
	‚Ä¢	Server filtert Duplikate

1Ô∏è‚É£2Ô∏è‚É£ APP-UX (MINIMAL)

Men√ºpunkt:

‚ÄûStempelp√§sse in Vorchdorf‚Äú

Screens:
	‚Ä¢	√úbersicht aller aktiven P√§sse
	‚Ä¢	Pass-Detail (Erkl√§rung, Firmen, Fortschritt)
	‚Ä¢	QR-Code-Scan
	‚Ä¢	Erfolgsmeldung
	‚Ä¢	Belohnungseinl√∂sung

1Ô∏è‚É£3Ô∏è‚É£ FIRMEN-BACKEND (MINIMAL)

Firma kann:
	‚Ä¢	eigenen Firmen-Pass anlegen
	‚Ä¢	QR-Code herunterladen
	‚Ä¢	Statistiken sehen:
	‚Ä¢	vergebene Stempel
	‚Ä¢	eingel√∂ste Belohnungen

‚ùå keine Einsicht in Ger√§tedaten

1Ô∏è‚É£4Ô∏è‚É£ ADMIN-BACKEND

Admin kann:
	‚Ä¢	Orts- & Event-P√§sse anlegen
	‚Ä¢	Firmen zuweisen
	‚Ä¢	P√§sse aktivieren/deaktivieren
	‚Ä¢	Gesamtstatistiken sehen

1Ô∏è‚É£5Ô∏è‚É£ NICHT-TEIL DES MVP
	‚Ä¢	Bezahlung
	‚Ä¢	Werbung
	‚Ä¢	User-Profile
	‚Ä¢	Social Features

üéØ ERFOLGSKRITERIUM

Das System ist erfolgreich, wenn:
	‚Ä¢	B√ºrger ohne Erkl√§rung Stempel sammeln k√∂nnen
	‚Ä¢	Firmen ohne Hilfe P√§sse anlegen
	‚Ä¢	keine personenbezogenen Daten gespeichert werden
	‚Ä¢	mehrere P√§sse parallel laufen k√∂nnen

üîö ENDE DER SPEZIFIKATION

